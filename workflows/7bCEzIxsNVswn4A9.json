{"updatedAt":"2026-01-26T14:28:55.798Z","createdAt":"2026-01-26T14:11:11.156Z","id":"7bCEzIxsNVswn4A9","name":"Request Gemini 2.5 flash","active":true,"isArchived":false,"nodes":[{"parameters":{"sessionIdType":"customKey","sessionKey":"session_reddit"},"type":"@n8n/n8n-nodes-langchain.memoryRedisChat","typeVersion":1.5,"position":[3104,496],"id":"8d649c0b-184d-4c9c-ac00-08dfc7e491f9","name":"Redis","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"query":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Query', ``, 'string') }}","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[3232,496],"id":"38d7db06-8514-44dd-9af5-52073583aefb","name":"Tavily search","credentials":{"tavilyApi":{"id":"CpAx4VhG0PmKrOZR","name":"Tavily account - GitHub"}}},{"parameters":{"model":"llama3.2:3b","options":{"lowVram":true,"useMLock":true,"useMMap":true}},"type":"@n8n/n8n-nodes-langchain.lmChatOllama","typeVersion":1,"position":[2976,496],"id":"04403422-e6cf-42cc-9824-bbf5b809dddb","name":"llama3.2","credentials":{"ollamaApi":{"id":"1LHuJ7liAjGaSUJT","name":"Ollama account"}}},{"parameters":{"operation":"incr","key":"gemini_flash_executions","expire":true,"ttl":65},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[2176,496],"id":"2588f2e7-47cd-43cb-ab39-0a19adcc782d","name":"Increment gemini_flash_executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[2848,496],"id":"29b59fc6-2e22-4b0c-878a-2ef3e1e0c686","name":"Gemini 2.5 flash","credentials":{"googlePalmApi":{"id":"GNtLDT3w0YRmjHrT","name":"Gemini Api -  tdiot@bunkerity.com"}}},{"parameters":{"operation":"get","propertyName":"gemini_flash_executions","key":"gemini_flash_executions","options":{}},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[1504,416],"id":"8c467b49-1fa7-4415-9b2b-10cd7ff4e17a","name":"Get gemini flash executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"mode":"combine","combineBy":"combineByPosition","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2400,416],"id":"5b65eca8-e80e-4b0e-933a-169c42771537","name":"Merge increment"},{"parameters":{"keys":{"key":[{"currentKey":"output","newKey":"summary"}]},"additionalOptions":{}},"type":"n8n-nodes-base.renameKeys","typeVersion":1,"position":[3440,400],"id":"e9e3c5b2-d25d-4fab-ad65-d17c4e6ce4ae","name":"Rename output -> summary"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1728,304],"id":"2c39a7fe-3d34-40a1-bfdc-83c1428bd15a","name":"Add gemini_flash_executions key"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"8152c702-f81c-471b-a7bc-33c4fedc9593","leftValue":"={{ $json.gemini_flash_executions }}","rightValue":10,"operator":{"type":"number","operation":"gte"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1952,304],"id":"f9008406-137d-462f-9ea3-112b14849c2a","name":"If there's been 10 executions or more"},{"parameters":{"promptType":"define","text":"=You are summarizing a Reddit post based on the provided JSON. You have access to **long-term memory** and the **Tavily search tool**. Use **Tavily carefully and only when essential** â€” specifically when a term, reference, or concept is **critical to understanding the post** and **cannot be inferred** from the JSON or your memory. Tavily queries are **limited**, so only use them when the information is important enough that leaving it out would reduce the clarity or value of the summary (e.g., unclear acronyms, niche technologies, real-world events, etc.).\n\nâš ï¸ **This summary is meant to help the creator of BunkerWeb stay informed about how their product is being discussed.**\n**Never use Tavily to look up anything related to BunkerWeb.** Always rely on the JSON content or your own memory when BunkerWeb is mentioned â€” the goal is to capture how users are talking about it, not to reinterpret or supplement their comments.\n\n---\n\n**Output Instructions (Must Follow Exactly):**\n\n1. Your entire output must be in **plain text** and stay **under 2000 characters**.\n\n2. Write a **main summary** of the post in **1â€“2 sentences**:\n\n   * The summary **must mention BunkerWeb** if it's referenced in any way.\n   * If both `comment_author` and `comment_body` are non-empty, explicitly state that you're summarizing the **original post**.\n   * If `nsfw` is `\"true\"`, append **(NSFW)** to the end of the summary.\n\n3. If both `comment_author` and `comment_body` are present:\n\n   * Add **exactly one blank line** after the main summary.\n   * Then write **one sentence** summarizing the **reply comment**, explicitly noting that **the original post did not mention BunkerWeb**, but the **comment did**.\n   * Mention the comment author only if it adds necessary context.\n\n4. Ignore extra whitespace and formatting issues. Treat multiple blank lines as paragraph breaks.\n\n5. Mention the **subreddit** or **post author** only if it adds crucial context.\n\n6. If any fields in the JSON are empty, `\"null\"`, or `\"undefined\"`, exclude them from the output entirely.\n\n---\n\n**Source Data Format:**\n\n```\n===== BEGIN META =====\nsubreddit: {{ $json.post_subreddit }}\nauthor: {{ $json.post_author }}\nnsfw: {{ $json.post_over_18 ? \"true\" : \"false\" }}\ncomment_author: {{ $json.comment_author }}\n===== END META =====\n\n===== BEGIN TEXT =====\ntitle: {{ $json.post_title }}\nbody:\n{{ $json.post_body }}\n===== END TEXT =====\n\n===== BEGIN COMMENT TEXT =====\ncomment_body:\n{{ $json.comment_body }}\n===== END COMMENT TEXT =====\n```","needsFallback":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[2976,272],"id":"f6b16be2-1397-4991-99dc-31acbfc51aef","name":"Agent summarizer"},{"parameters":{"content":"### ðŸ“ Create a summary from the post/comment using Gemini 2.5 flash and fallback to llama3.2.","height":464,"width":800,"color":5},"type":"n8n-nodes-base.stickyNote","position":[2800,176],"typeVersion":1,"id":"e1158b71-9b3b-4d60-81bd-57b90e3bfdab","name":"Sticky Note"},{"parameters":{"amount":65},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[2176,128],"id":"e90458ee-9a49-4a13-aef3-e9c535137203","name":"Wait for the gemini API rate limit to end","webhookId":"c558e2bc-834b-4bf7-b600-f87a242c637c"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2624,128],"id":"5dc2eedf-be2c-4563-9da9-a19aaf475364","name":"Merge wait"},{"parameters":{"operation":"delete","key":"gemini_flash_executions"},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[2400,64],"id":"ee308710-39fa-4d23-a801-1a7124ae0a32","name":"Delete gemini_flash_executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"inputSource":"passthrough"},"id":"a6505e28-b932-4927-89a4-0527e30409ee","typeVersion":1.1,"name":"Start","type":"n8n-nodes-base.executeWorkflowTrigger","position":[1200,320]},{"parameters":{"content":"## â³ Handle Gemini 2.5 flash API rate limit (10 requests per minute).","height":640,"width":1296,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1472,32],"typeVersion":1,"id":"98c8a957-e870-40b7-b9c7-a50d4b9a3ce1","name":"Sticky Note1"}],"connections":{"Redis":{"ai_memory":[[{"node":"Agent summarizer","type":"ai_memory","index":0}]]},"Tavily search":{"ai_tool":[[{"node":"Agent summarizer","type":"ai_tool","index":0}]]},"Rename output -> summary":{"main":[[]]},"llama3.2":{"ai_languageModel":[[{"node":"Agent summarizer","type":"ai_languageModel","index":1}]]},"Agent summarizer":{"main":[[{"node":"Rename output -> summary","type":"main","index":0}]]},"Wait for the gemini API rate limit to end":{"main":[[{"node":"Delete gemini_flash_executions","type":"main","index":0},{"node":"Merge wait","type":"main","index":1}]]},"Get gemini flash executions":{"main":[[{"node":"Add gemini_flash_executions key","type":"main","index":1}]]},"Add gemini_flash_executions key":{"main":[[{"node":"If there's been 10 executions or more","type":"main","index":0}]]},"If there's been 10 executions or more":{"main":[[{"node":"Wait for the gemini API rate limit to end","type":"main","index":0}],[{"node":"Increment gemini_flash_executions","type":"main","index":0},{"node":"Merge increment","type":"main","index":0}]]},"Gemini 2.5 flash":{"ai_languageModel":[[{"node":"Agent summarizer","type":"ai_languageModel","index":0}]]},"Increment gemini_flash_executions":{"main":[[{"node":"Merge increment","type":"main","index":1}]]},"Merge increment":{"main":[[{"node":"Agent summarizer","type":"main","index":0}]]},"Delete gemini_flash_executions":{"main":[[{"node":"Merge wait","type":"main","index":0}]]},"Merge wait":{"main":[[{"node":"Agent summarizer","type":"main","index":0}]]},"Start":{"main":[[{"node":"Get gemini flash executions","type":"main","index":0},{"node":"Add gemini_flash_executions key","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false},"staticData":null,"meta":null,"pinData":{},"versionId":"bc78bac3-215d-46c4-af2c-7bc52bda89fb","activeVersionId":"5ab664b4-1ab1-4b39-b903-34862229b683","triggerCount":0,"shared":[{"updatedAt":"2026-01-26T14:11:11.156Z","createdAt":"2026-01-26T14:11:11.156Z","role":"workflow:owner","workflowId":"7bCEzIxsNVswn4A9","projectId":"ZjBkzD6jhnG4YX2d"}],"activeVersion":{"updatedAt":"2026-01-26T14:11:11.156Z","createdAt":"2026-01-26T14:11:11.156Z","versionId":"5ab664b4-1ab1-4b39-b903-34862229b683","workflowId":"7bCEzIxsNVswn4A9","nodes":[{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"session_reddit","sessionTTL":0,"contextWindowLength":5},"type":"@n8n/n8n-nodes-langchain.memoryRedisChat","typeVersion":1.5,"position":[3104,496],"id":"8d649c0b-184d-4c9c-ac00-08dfc7e491f9","name":"Redis","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"descriptionType":"auto","resource":"search","operation":"query","query":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Query', ``, 'string') }}","options":{}},"type":"@tavily/n8n-nodes-tavily.tavilyTool","typeVersion":1,"position":[3232,496],"id":"38d7db06-8514-44dd-9af5-52073583aefb","name":"Tavily search","credentials":{"tavilyApi":{"id":"CpAx4VhG0PmKrOZR","name":"Tavily account - GitHub"}}},{"parameters":{"notice":"","model":"llama3.2:3b","options":{"lowVram":true,"useMLock":true,"useMMap":true}},"type":"@n8n/n8n-nodes-langchain.lmChatOllama","typeVersion":1,"position":[2976,496],"id":"04403422-e6cf-42cc-9824-bbf5b809dddb","name":"llama3.2","credentials":{"ollamaApi":{"id":"1LHuJ7liAjGaSUJT","name":"Ollama account"}}},{"parameters":{"operation":"incr","key":"gemini_flash_executions","expire":true,"ttl":65},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[2176,496],"id":"2588f2e7-47cd-43cb-ab39-0a19adcc782d","name":"Increment gemini_flash_executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"notice":"","modelName":"models/gemini-2.5-flash","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[2848,496],"id":"29b59fc6-2e22-4b0c-878a-2ef3e1e0c686","name":"Gemini 2.5 flash","credentials":{"googlePalmApi":{"id":"GNtLDT3w0YRmjHrT","name":"Gemini Api -  tdiot@bunkerity.com"}}},{"parameters":{"operation":"get","propertyName":"gemini_flash_executions","key":"gemini_flash_executions","keyType":"automatic","options":{}},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[1504,416],"id":"8c467b49-1fa7-4415-9b2b-10cd7ff4e17a","name":"Get gemini flash executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"parameters":{"mode":"combine","combineBy":"combineByPosition","numberInputs":2,"options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2400,416],"id":"5b65eca8-e80e-4b0e-933a-169c42771537","name":"Merge increment"},{"parameters":{"keys":{"key":[{"currentKey":"output","newKey":"summary"}]},"additionalOptions":{}},"type":"n8n-nodes-base.renameKeys","typeVersion":1,"position":[3440,400],"id":"e9e3c5b2-d25d-4fab-ad65-d17c4e6ce4ae","name":"Rename output -> summary"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","numberInputs":2,"options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1728,304],"id":"2c39a7fe-3d34-40a1-bfdc-83c1428bd15a","name":"Add gemini_flash_executions key"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"8152c702-f81c-471b-a7bc-33c4fedc9593","leftValue":"={{ $json.gemini_flash_executions }}","rightValue":10,"operator":{"type":"number","operation":"gte"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1952,304],"id":"f9008406-137d-462f-9ea3-112b14849c2a","name":"If there's been 10 executions or more"},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","promptType":"define","text":"=You are summarizing a Reddit post based on the provided JSON. You have access to **long-term memory** and the **Tavily search tool**. Use **Tavily carefully and only when essential** â€” specifically when a term, reference, or concept is **critical to understanding the post** and **cannot be inferred** from the JSON or your memory. Tavily queries are **limited**, so only use them when the information is important enough that leaving it out would reduce the clarity or value of the summary (e.g., unclear acronyms, niche technologies, real-world events, etc.).\n\nâš ï¸ **This summary is meant to help the creator of BunkerWeb stay informed about how their product is being discussed.**\n**Never use Tavily to look up anything related to BunkerWeb.** Always rely on the JSON content or your own memory when BunkerWeb is mentioned â€” the goal is to capture how users are talking about it, not to reinterpret or supplement their comments.\n\n---\n\n**Output Instructions (Must Follow Exactly):**\n\n1. Your entire output must be in **plain text** and stay **under 2000 characters**.\n\n2. Write a **main summary** of the post in **1â€“2 sentences**:\n\n   * The summary **must mention BunkerWeb** if it's referenced in any way.\n   * If both `comment_author` and `comment_body` are non-empty, explicitly state that you're summarizing the **original post**.\n   * If `nsfw` is `\"true\"`, append **(NSFW)** to the end of the summary.\n\n3. If both `comment_author` and `comment_body` are present:\n\n   * Add **exactly one blank line** after the main summary.\n   * Then write **one sentence** summarizing the **reply comment**, explicitly noting that **the original post did not mention BunkerWeb**, but the **comment did**.\n   * Mention the comment author only if it adds necessary context.\n\n4. Ignore extra whitespace and formatting issues. Treat multiple blank lines as paragraph breaks.\n\n5. Mention the **subreddit** or **post author** only if it adds crucial context.\n\n6. If any fields in the JSON are empty, `\"null\"`, or `\"undefined\"`, exclude them from the output entirely.\n\n---\n\n**Source Data Format:**\n\n```\n===== BEGIN META =====\nsubreddit: {{ $json.post_subreddit }}\nauthor: {{ $json.post_author }}\nnsfw: {{ $json.post_over_18 ? \"true\" : \"false\" }}\ncomment_author: {{ $json.comment_author }}\n===== END META =====\n\n===== BEGIN TEXT =====\ntitle: {{ $json.post_title }}\nbody:\n{{ $json.post_body }}\n===== END TEXT =====\n\n===== BEGIN COMMENT TEXT =====\ncomment_body:\n{{ $json.comment_body }}\n===== END COMMENT TEXT =====\n```","hasOutputParser":false,"needsFallback":true,"fallbackNotice":"","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[2976,272],"id":"f6b16be2-1397-4991-99dc-31acbfc51aef","name":"Agent summarizer"},{"parameters":{"content":"### ðŸ“ Create a summary from the post/comment using Gemini 2.5 flash and fallback to llama3.2.","height":464,"width":800,"color":5},"type":"n8n-nodes-base.stickyNote","position":[2800,176],"typeVersion":1,"id":"e1158b71-9b3b-4d60-81bd-57b90e3bfdab","name":"Sticky Note"},{"parameters":{"resume":"timeInterval","amount":65,"unit":"seconds"},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[2176,128],"id":"e90458ee-9a49-4a13-aef3-e9c535137203","name":"Wait for the gemini API rate limit to end","webhookId":"c558e2bc-834b-4bf7-b600-f87a242c637c"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","numberInputs":2,"options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2624,128],"id":"5dc2eedf-be2c-4563-9da9-a19aaf475364","name":"Merge wait"},{"parameters":{"operation":"delete","key":"gemini_flash_executions"},"type":"n8n-nodes-base.redis","typeVersion":1,"position":[2400,64],"id":"ee308710-39fa-4d23-a801-1a7124ae0a32","name":"Delete gemini_flash_executions","credentials":{"redis":{"id":"AfgIqWjfLKZzroBz","name":"Redis db 1"}}},{"id":"a6505e28-b932-4927-89a4-0527e30409ee","typeVersion":1.1,"name":"Start","type":"n8n-nodes-base.executeWorkflowTrigger","position":[2192,64],"parameters":{"inputSource":"passthrough"}}],"connections":{"Redis":{"ai_memory":[[{"node":"Agent summarizer","type":"ai_memory","index":0}]]},"Tavily search":{"ai_tool":[[{"node":"Agent summarizer","type":"ai_tool","index":0}]]},"Rename output -> summary":{"main":[[]]},"llama3.2":{"ai_languageModel":[[{"node":"Agent summarizer","type":"ai_languageModel","index":1}]]},"Agent summarizer":{"main":[[{"node":"Rename output -> summary","type":"main","index":0}]]},"Wait for the gemini API rate limit to end":{"main":[[{"node":"Delete gemini_flash_executions","type":"main","index":0},{"node":"Merge wait","type":"main","index":1}]]},"Get gemini flash executions":{"main":[[{"node":"Add gemini_flash_executions key","type":"main","index":1}]]},"Add gemini_flash_executions key":{"main":[[{"node":"If there's been 10 executions or more","type":"main","index":0}]]},"If there's been 10 executions or more":{"main":[[{"node":"Wait for the gemini API rate limit to end","type":"main","index":0}],[{"node":"Increment gemini_flash_executions","type":"main","index":0},{"node":"Merge increment","type":"main","index":0}]]},"Gemini 2.5 flash":{"ai_languageModel":[[{"node":"Agent summarizer","type":"ai_languageModel","index":0}]]},"Increment gemini_flash_executions":{"main":[[{"node":"Merge increment","type":"main","index":1}]]},"Merge increment":{"main":[[{"node":"Agent summarizer","type":"main","index":0}]]},"Delete gemini_flash_executions":{"main":[[{"node":"Merge wait","type":"main","index":0}]]},"Merge wait":{"main":[[{"node":"Agent summarizer","type":"main","index":0}]]}},"authors":"John Doe","name":null,"description":null,"autosaved":false},"tags":[]}